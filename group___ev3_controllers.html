<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.6"/>
        <script type="text/javascript" src="jquery-2.1.1.min.js"></script>
        <title>H4R_EV3 ROS Nodes: EV3 Controllers</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="bootstrap.min.css">
        <script src="bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
        <link rel="stylesheet" href="bootstrap_style.css">
<style> 
</style>
    </head>
    <body>
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation" style="box-shadow: 0 2px 5px red !important ">
            <div id="navbar-top" class="container">
                <div class="navbar-header">
                </div>
            </div>
        </nav>
<div id="bg_spacer" class="fixed-bg">
    <div id="org-logo-wrapper">
        <div id="project-img-overlay"> 
            <a href="http://github.com/Hacks4ROS">
                <div id="org-logo"></div>
            </a>
        </div>
    </div>
</div>
<div class="content-wrapper">
<div class="cornered_bg">
    <div class="cornered"><p class="navbar-brand"> H4R_EV3 ROS Nodes </p></div>
</div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div id="doxygen-content" class="col-lg-12 panel panel-default">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li><a href="http://radiationlaboratories.blogspot.de/p/about.html"><span>About</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">EV3 Controllers</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classev3__control_1_1_ev3_color_controller.html">ev3_control::Ev3ColorController</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classev3__control_1_1_ev3_gyro_controller.html">ev3_control::Ev3GyroController</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classev3__control_1_1_ev3_infrared_controller.html">ev3_control::Ev3InfraredController</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classev3__control_1_1_ev3_touch_controller.html">ev3_control::Ev3TouchController</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classev3__control_1_1_ev3_ultrasonic_controller.html">ev3_control::Ev3UltrasonicController</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>


<h3><a class="anchor" id="Ev3ColorController"></a>Ev3ColorController</h3><div class="textblock"><div class="image">
<img src="EV3Color.png" alt="EV3Color.png"/>
</div>
 <h1><a class="anchor" id="Controller"></a>
Function</h1>
<p>This controller is used to read the standard EV3 Color Sensor</p>
<h1><a class="anchor" id="Parameters"></a>
Parameters</h1>
<h2><a class="anchor" id="publish_rate"></a>
publish_rate</h2>
<p>The rate which the controller should use to publish its messages.</p>
<h2><a class="anchor" id="port"></a>
port</h2>
<p>Specifies the EV3 port name.</p>
<h2><a class="anchor" id="mode"></a>
mode</h2>
<p>The mode parameter sets the mode for the color sensor. If not set, it will use <b>rgb_raw</b>.</p>
<p>The following modes are possible for the sensor:</p>
<ol type="1">
<li><b>rgb_raw</b><br/>
 'rgb_raw' mode uses the RGB_RAW mode of this sensor. It will output the color information in RGB in a <b>std_msgs::ColorRGBA.msg</b> topic.</li>
<li><b>color</b><br/>
 'color' mode publishes the a number for the following recognized colors into a <b>std_msgs::UInt8</b> topic<br/>
<table class="doxtable">
<tr>
<th>Value </th><th>Color  </th></tr>
<tr>
<td>0 </td><td>none </td></tr>
<tr>
<td>1 </td><td>black </td></tr>
<tr>
<td>2 </td><td>blue </td></tr>
<tr>
<td>3 </td><td>green </td></tr>
<tr>
<td>4 </td><td>yellow </td></tr>
<tr>
<td>5 </td><td>red </td></tr>
<tr>
<td>6 </td><td>white </td></tr>
<tr>
<td>7 </td><td>brown </td></tr>
</table>
</li>
<li><b>ambient</b><br/>
 'ambient' mode measures the ambient light and publishes into a <b>sensor_msgs::Illuminance</b> topic</li>
<li><p class="startli"><b>reflect</b><br/>
 'reflect' mode measures the reflected light from an obstacle and publishes into a <b>sensor_msgs::Illuminance</b> topic</p>
<dl class="section warning"><dt>Warning</dt><dd>Currently <b>ambient</b> and <b>reflect</b> publish the direct sensor value (percent) in percent - this will change so that it fits the output value in the message or the message type will be changed when it is found to be not right. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>check how to calculate LUX value for message or change message type </dd></dl>
</li>
</ol>
<h2><a class="anchor" id="frame_id"></a>
frame_id</h2>
<p>The frame_id used in the message</p>
<h2><a class="anchor" id="topic_name"></a>
topic_name</h2>
<p>The topic name used for the output topic. </p>
</div>

<h3><a class="anchor" id="Ev3GyroController"></a>Ev3GyroController</h3><div class="textblock"><div class="image">
<img src="EV3Gyro.png" alt="EV3Gyro.png"/>
</div>
<h1><a class="anchor" id="Controller"></a>
Function</h1>
<p>This controller is used to read the standard EV3 Gyro Sensor</p>
<h1><a class="anchor" id="Parameters"></a>
Parameters</h1>
<h2><a class="anchor" id="publish_rate"></a>
publish_rate</h2>
<p>The rate the controller should use to publish its messages.</p>
<h2><a class="anchor" id="port"></a>
port</h2>
<p>Specifies the EV3 port name.</p>
<h2><a class="anchor" id="mode"></a>
mode</h2>
<p>The mode parameter sets the mode for the gyro sensor. If not set, it will use <b>angle</b>.</p>
<ol type="1">
<li><b>rate</b> publishes the turn rate into a <b>sensor_msgs::Imu topic</b> (z-axis).</li>
<li><b>angle</b> publishes the turn rate into a <b>sensor_msgs::Imu topic</b> (z-axis).</li>
<li><b>rate&amp;angle</b> publishes both turn and angle into a <b>sensor_msgs::Imu topic</b> (z-axis).</li>
</ol>
<dl class="section warning"><dt>Warning</dt><dd><b>rate&amp;angle</b> has, according to the EV3Dev manual, an instability. If the angle reaches 32767 or -32768 it will be stuck there. This is a sensor issue. Using this mode is not recommended.</dd></dl>
<h2><a class="anchor" id="frame_id"></a>
frame_id</h2>
<p>The frame_id used in the message</p>
<h2><a class="anchor" id="topic_name"></a>
topic_name</h2>
<p>The topic name used for the topic. </p>
</div>

<h3><a class="anchor" id="Ev3InfraredController"></a>Ev3InfraredController</h3><div class="textblock"><div class="image">
<img src="EV3Infrared.png" alt="EV3Infrared.png"/>
</div>
 <h1><a class="anchor" id="Controller"></a>
Function</h1>
<p>This controller is used to read the standard EV3 Infrared Sensor</p>
<h1><a class="anchor" id="Parameters"></a>
Parameters</h1>
<h2><a class="anchor" id="publish_rate"></a>
publish_rate</h2>
<p>The rate which the controller should use to publish its messages.</p>
<h2><a class="anchor" id="port"></a>
port</h2>
<p>Specifies the EV3 port name.</p>
<h2><a class="anchor" id="mode"></a>
mode</h2>
<ol type="1">
<li><b>proximity</b> publishes the distance of the sensor to a reflective surface.</li>
<li><b>seek</b> publishes four topics containing the heading and the distance value to ir-remotes in beacon mode for each remote channel</li>
<li><b>remote</b> publishes the four remote channels of the ir-sensor to four different topics from type <b>sensor_msgs::Joy</b><br/>
 The buttons in the joy topic correlate to the following array element: <table class="doxtable">
<tr>
<th>Element </th><th>Button  </th></tr>
<tr>
<td>0 </td><td>red up </td></tr>
<tr>
<td>1 </td><td>red down </td></tr>
<tr>
<td>2 </td><td>blue up </td></tr>
<tr>
<td>3 </td><td>blue down </td></tr>
<tr>
<td>4 </td><td>beacon </td></tr>
</table>
</li>
</ol>
<h2><a class="anchor" id="topic_name"></a>
topic_name</h2>
<p>is the topic name used for the output topic or if there are multiple existing topics for the mode like for seek and remote. The topic_name for each topic gets an appending number starting from 0 (e.g. topic_name0).</p>
<h2><a class="anchor" id="frame_id"></a>
frame_id</h2>
<p>is used in modes publishing a message with an header to set the frame_id for the sensor. </p>
</div>

<h3><a class="anchor" id="Ev3TouchController"></a>Ev3TouchController</h3><div class="textblock"><div class="image">
<img src="EV3Touch.png" alt="EV3Touch.png"/>
</div>
 <h1><a class="anchor" id="Controller"></a>
Function</h1>
<p>This controller is used to read the standard EV3 Touch Sensor </p>
</div>

<h3><a class="anchor" id="Ev3UltrasonicController"></a>Ev3UltrasonicController</h3><div class="textblock"><div class="image">
<img src="EV3Ultrasonic.png" alt="EV3Ultrasonic.png"/>
</div>
 <h1><a class="anchor" id="Controller"></a>
Function</h1>
<p>This controller is used to read the standard EV3 Ultrasonic Sensor</p>
<h1><a class="anchor" id="Parameters"></a>
Parameters</h1>
<h2><a class="anchor" id="publish_rate"></a>
publish_rate</h2>
<p>The rate the controller should use to publish its messages.</p>
<h2><a class="anchor" id="port"></a>
port</h2>
<p>Specifies the EV3 port name.</p>
<h2><a class="anchor" id="mode"></a>
mode</h2>
<ol type="1">
<li><b>distance</b> publishes the measured distance into a <b>sensor_msgs::Range</b> topic</li>
<li><b>listen</b> publishes into a <b>std_msgs::Boolean</b> topic, when it detects another Ultrasonic Sensor or a loud noise (like a clap) the value is true otherwise false.<ul>
<li><b>max_range</b> sets the maximum range of values taken into account if a value is bigger it will be replaced by infinity.<br/>
 The maximum value for this parameter is 2.5 because the value 2.550 is the sensors error condition.</li>
<li><b>min_range</b> sets the minimum range of values taken into account if a value is smaller it will be replaced by negative infinity. </li>
</ul>
</li>
</ol>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<address class="footer"><small>
Generated on Mon Feb 22 2016 18:54:37 for H4R_EV3 ROS Nodes by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</div>
</body>
</html>
